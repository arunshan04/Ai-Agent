import React, { useState } from 'react';
import { NavLink } from 'react-router-dom';

const Sidebar = ({ tracks }) => {
    const [isTracksOpen, setTracksOpen] = useState(false);

    return (
        <aside className="sidebar">
            <h1>CVE Dashboard</h1>
            <nav>
                <NavLink to="/" end>Dashboard</NavLink>
                <button onClick={() => setTracksOpen(!isTracksOpen)} className="track-toggle">
                    Tracks {isTracksOpen ? '▲' : '▼'}
                </button>
                {isTracksOpen && (
                    <div className="track-list">
                        {tracks.map(track => (
                            <NavLink key={track.id} to={`/tracks/${track.name}`}>
                                {track.name}
                            </NavLink>
                        ))}
                    </div>
                )}
                <NavLink to="/vulnerabilities">Vulnerabilities</NavLink>
            </nav>
        </aside>
    );
};

export default Sidebar;